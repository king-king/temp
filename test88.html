<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="utf-8">
    <meta name="mobileoptimized" content="0"/>
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="screen-orientation" content="portrait">
    <meta name="browsermode" content="application">
    <title></title>
</head>
<body>
<script>
    (function () {


        /**
         * Definition for a binary tree node.
         * function TreeNode(val) {
         *     this.val = val;
         *     this.left = this.right = null;
         * }

         * @param {TreeNode} root
         * @return {string[]}
         */
        var binaryTreePaths = function ( root ) {
            var path = [];
            var result = [];

            function toString( arr ) {
                return arr.join( "->" );
            }

            function visit( p ) {
                if ( p ) {
                    path.push( p.val );
                    if ( !p.left && !p.right ) {
                        result.push( toString( path ) );
                        return;
                    }
                    visit( p.left );
                    p.left && path.pop();
                    visit( p.right );
                    p.right && path.pop();
                    return p;
                }
            }

            visit( root );
            return result;
        };

        function TreeNode( val ) {
            this.val = val;
            this.left = this.right = null;
        }

        var n1 = new TreeNode( 1 ),
                n2 = new TreeNode( 2 ),
                n3 = new TreeNode( 3 ),
                n4 = new TreeNode( 4 );
        n1.left = n2;
        n1.right = n3;
        n2.right = n4;


        console.log( binaryTreePaths( n1 ) );

    })();
</script>
</body>
</html>