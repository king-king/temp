<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        img {
            width: 100px;
        }
    </style>
</head>
<body>
<script>
    (function () {

        function map( array, func ) {
            var mapArray = [];
            array.forEach( function ( item, i ) {
                mapArray.push( func( item, i ) );
            } );
            return mapArray;
        }

        function sequence( requests, callback ) {
            var index = 0;
            requests[index] && requests[index]( function () {
                ++index == requests.length ? callback() : requests[index]( arguments.callee );
            } );
        }

        var images = [
            "img/1.png",
            "img/2.png",
            "img/3.png"
        ];

        sequence( map( images, function ( src, i ) {
            return function ( done ) {
                var img = new Image();
                img.src = src;
                document.body.appendChild( img );
                console.log( i );
                done();
            }
        } ), function () {
            console.log( "end" )
        } );

    })();
</script>
</body>
</html>