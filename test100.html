<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="utf-8">
    <meta name="mobileoptimized" content="0"/>
    <meta name="viewport" content="width=device-width, minimum-scale=1, maximum-scale=1 user-scalable=no"/>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="screen-orientation" content="portrait">
    <meta name="browsermode" content="application">
    <title></title>
    <style>
        .page {
            width: 320px;
            height: 480px;
            position: absolute;
            left: 50%;
            top: 50%;
            -webkit-transform: translate3d(-50%, -50%, 0);
            background-color: black;
            overflow: hidden;
        }

        .page img {
            width: 100%;
            position: absolute;
            top: 0;
            left: 0;
            -webkit-animation: cinema-animate5 3s linear;
        }

        @-webkit-keyframes cinema-animate5 {
            98% {
                transform: perspective(1000px) translate3d(0%, 0%, 0px) scale(1) rotateX(0deg) rotateY(20deg) rotateZ(0deg);
                opacity: 1;
            }
        }

        @-webkit-keyframes animate0 {
            0% {
                -webkit-transform: perspective(1000px) rotateX(90deg);
            }
            50% {
                -webkit-transform: perspective(1000px) rotateX(0deg);
            }
            100% {
                -webkit-transform: perspective(1000px) rotateX(0deg);
            }
        }

    </style>
</head>
<body>
<div class="page">
    <img src="img/h7.jpg">
</div>
<script>
    //    var str = "天地玄黄 宇宙洪荒";
    //    var a = {
    //        unicode : str.split( '' ).map( function ( s ) {
    //            return s.charCodeAt( 0 );
    //        } )
    //    };
    //    var unicodeList = [ a ];
    //    var unicodeHash = {};
    //    unicodeList.forEach( function ( unicode ) {
    //        if ( typeof unicode === 'string' ) {
    //            unicode = Number( '0x' + unicode.slice( 1 ) );
    //        }
    //        unicodeHash[ unicode ] = true;
    //    } );
    //
//    console.log( unicodeHash );




    function concurrentTask( tasks , callback ) {
        var len = tasks.length , count = 0;
        tasks.forEach( function ( task ) {
            task( function () {
                count++;
                count == len && callback();
            } );
        } );
    }
    // 示例用法
    concurrentTask( [ "img/1.jpg" , "img/222.jpg" , "img/3.jpg" ].map( function ( s ) {
        return function ( done ) {
            var img = new Image();
            img.src = s;
            img.onload = done;
            img.onerror = done;
        }
    } ) , function () {
        //　全部加载完毕
        console.log( "all loaded" )
    } )


</script>
</body>
</html>