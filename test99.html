<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="utf-8">
    <meta name="mobileoptimized" content="0"/>
    <meta name="viewport" content="width=device-width, minimum-scale=1, maximum-scale=1 user-scalable=no"/>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="screen-orientation" content="portrait">
    <meta name="browsermode" content="application">
    <title></title>
    <style>

        * {
            -webkit-user-select: none;
        }

        body {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            margin: 0;
        }

        canvas {
            width: 500px;
            height: 500px;
            position: absolute;
            left: 50%;
            top: 50%;
            background-color: #eee;
            transform: translate3d(-50%, -50%, 0);
        }
    </style>
<body>
<canvas></canvas>
<script>
    (function () {

        var arr = [ [ 243.16900000000044 , 136.23727000000025 ] , [ 243.16900000000044 , 136.23727000000025 ] , [ 223.5040000000004 , 126.56128000000018 ] , [ 205.08100000000036 , 119.21161000000012 ] , [ 187.90000000000035 , 114.07000000000008 ] , [ 171.96100000000027 , 111.01819000000002 ] , [ 157.26400000000024 , 109.93792 ] , [ 143.8090000000002 , 110.71092999999996 ] , [ 131.59600000000017 , 113.21895999999994 ] , [ 120.62500000000017 , 117.34374999999993 ] , [ 110.89600000000013 , 122.96703999999991 ] , [ 102.40900000000009 , 129.9705699999999 ] , [ 95.16400000000009 , 138.2360799999999 ] , [ 89.16100000000006 , 147.64530999999988 ] , [ 84.40000000000003 , 158.0799999999999 ] , [ 80.88100000000003 , 169.4218899999999 ] , [ 78.60400000000001 , 181.55271999999988 ] , [ 77.569 , 194.35422999999992 ] , [ 77.77600000000001 , 207.70815999999996 ] , [ 79.225 , 221.49624999999995 ] , [ 81.916 , 235.60023999999993 ] , [ 85.84899999999999 , 249.90187 ] , [ 91.02399999999999 , 264.2828799999999 ] , [ 97.441 , 278.62501000000003 ] , [ 105.1 , 292.81 ] , [ 114.00099999999999 , 306.71959000000004 ] , [ 124.14399999999998 , 320.23552 ] , [ 135.52899999999994 , 333.2395299999999 ] , [ 148.15599999999995 , 345.61335999999994 ] , [ 162.02499999999998 , 357.23875000000004 ] , [ 177.136 , 367.99744 ] , [ 193.48900000000006 , 377.7711700000001 ] , [ 211.08399999999995 , 386.44167999999996 ] , [ 229.92100000000002 , 393.89070999999996 ] , [ 250 , 400 ] , [ 256.83099999999956 , 398.1197300000001 ] , [ 276.4959999999996 , 391.5507200000002 ] , [ 294.91899999999964 , 383.68139000000014 ] , [ 312.0999999999997 , 374.6300000000002 ] , [ 328.03899999999965 , 364.5148100000001 ] , [ 342.73599999999976 , 353.4540800000002 ] , [ 356.1909999999998 , 341.5660700000002 ] , [ 368.4039999999998 , 328.9690400000002 ] , [ 379.3749999999999 , 315.7812500000002 ] , [ 389.10399999999987 , 302.1209600000002 ] , [ 397.5909999999999 , 288.10643000000016 ] , [ 404.83599999999996 , 273.8559200000002 ] , [ 410.83899999999994 , 259.48769000000016 ] , [ 415.6 , 245.12000000000018 ] , [ 419.1189999999999 , 230.87111000000016 ] , [ 421.396 , 216.85928000000013 ] , [ 422.43100000000004 , 203.20277000000013 ] , [ 422.22400000000005 , 190.01984000000013 ] , [ 420.77500000000015 , 177.4287500000001 ] , [ 418.08400000000006 , 165.5477600000001 ] , [ 414.1510000000001 , 154.49513000000007 ] , [ 408.97600000000006 , 144.38912000000005 ] , [ 402.55900000000014 , 135.34799000000007 ] , [ 394.90000000000015 , 127.49000000000005 ] , [ 385.9990000000001 , 120.93341000000002 ] , [ 375.856 , 115.79648 ] , [ 364.47099999999995 , 112.19747 ] , [ 351.844 , 110.25464 ] , [ 337.97499999999997 , 110.08624999999998 ] , [ 322.864 , 111.81055999999998 ] , [ 306.511 , 115.54583000000001 ] , [ 288.9159999999999 , 121.41031999999997 ] , [ 270.079 , 129.52228999999997 ] , [ 250 , 140 ] , [ 250 , 140 ] ];
        var canvas = document.querySelector( "canvas" ) ,
                gl = canvas.getContext( "2d" );
        canvas.height = canvas.width = 500;
        gl.fillStyle = "red";

//        for ( var i = 0; i < arr.length; i ++ ) {
//            gl.fillRect( arr[ i ][ 0 ] , arr[ i ][ 1 ] , 5 , 5 );
//        }

        gl.strokeStyle = "red";

        function Line( x0 , y0 , x1 , y1 ) {
            gl.lineWidth = 5;
            gl.beginPath();
            gl.moveTo( x0 , y0 );
            gl.lineTo( x1 , y1 );
            gl.stroke();
        }

        gl.clearRect( 0 , 0 , 500 , 500 );

//        Line( 75 , 390 , 70 , 430 );
//        Line( 110 , 425 , 70 , 430 );

        // line


//        Line( 450 , 50 , 380 , 120 );
//        Line( 250 , 250 , 70 , 430 );
//
        var data = gl.getImageData( 0 , 0 , 500 , 500 );

        var position = [];

        for ( var y = 0; y < 500; y += 1 ) {
            for ( var x = 0; x < 500; x += 1 ) {
                if ( data.data[ ( y * 500 + x) * 4 ] == 255 ) {
                    position.push( [ x , y ] );
                    break;
                }
            }
        }

        console.log( JSON.stringify( position ) );

        var lines = [ [ 448 , 49 ] , [ 441 , 56 ] , [ 434 , 63 ] , [ 427 , 70 ] , [ 420 , 77 ] , [ 413 , 84 ] , [ 406 , 91 ] , [ 399 , 98 ] , [ 392 , 105 ] , [ 385 , 112 ] , [ 245 , 252 ] , [ 238 , 259 ] , [ 231 , 266 ] , [ 224 , 273 ] , [ 217 , 280 ] , [ 210 , 287 ] , [ 203 , 294 ] , [ 196 , 301 ] , [ 189 , 308 ] , [ 182 , 315 ] , [ 175 , 322 ] , [ 168 , 329 ] , [ 161 , 336 ] , [ 154 , 343 ] , [ 147 , 350 ] , [ 140 , 357 ] , [ 133 , 364 ] , [ 126 , 371 ] , [ 119 , 378 ] , [ 112 , 385 ] , [ 105 , 392 ] , [ 98 , 399 ] , [ 91 , 406 ] , [ 84 , 413 ] , [ 77 , 420 ] , [ 70 , 427 ] ,
            [ 72 , 392 ] , [ 71 , 399 ] , [ 70 , 406 ] , [ 69 , 413 ] , [ 68 , 420 ] , [ 67 , 427 ] ,
            [ 74 , 426 ] , [ 82 , 425 ] , [ 90 , 424 ] , [ 98 , 423 ] , [ 106 , 422 ] ];
        for ( var a = 0; a < lines.length; a ++ ) {
            gl.fillRect( lines[ a ][ 0 ] , lines[ a ][ 1 ] , 5 , 5 );
        }


    })();
</script>
</body>
</html>