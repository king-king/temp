<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="mobileoptimized" content="0"/>
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="screen-orientation" content="portrait">
    <meta name="browsermode" content="application">

    <title>调试板式</title>

    <style>
        body {
            font-family: "微软雅黑", sans-serif;
        }
    </style>

    <script src="../lib/zach/client.js"></script>
    <script>
        main( function () {
            var debug = imports( "./debug.js" );
            var object = imports( "object" );

            var debugSystem = debug.DebugSystem( "debug-info", {
                debug : "true"
            } );
            var debugInfo = debugSystem.info();

            // 静态图片地址
            window.noMusic = true;

            var sidebar = debug.Options( {
                name : "page"
            } );

            debug.setup = function () {
                fp.loadWork = function ( callback ) {
                    callback( {
                        pageSwitch : "classic",
                        pages : [sidebar.data]
                    } );
                };
            };

            debug.loadFirstPage( {
                type : debugInfo.debug === "true" ? "local" : "release"
            }, function () {
                debug.loadData( {
                    dir : "page-list",
                    doOut : function ( pageData ) {
                        object.foreach( pageData, function ( name, data ) {
                            sidebar.option( name, data );
                        } );
                    }
                }, function () {
                    debugSystem.Option( "debug", {
                        "线下系统" : true,
                        "线上系统" : false
                    } );

                    debug.start();
                } );
            } );
        } );
    </script>
</head>
<body>
</body>
</html>